http = {
	enabled = false
}
#priority = 90
logging = {
#	level = "debug"
}

nodes = {
	ft4222 = {
		type = "ft4222"
		system_clock=80
		in = {
			sample_rate = 100000,
			vectorize = 100,
			signals = (
				{ name = "ch0", type = "float", channel = 0 },
				{ name = "ch1", type = "float", channel = 0 },
				{ name = "ch2", type = "float", channel = 0 },
				{ name = "ch3", type = "float", channel = 0 },
				{ name = "ch4", type = "float", channel = 0 },
				{ name = "ch5", type = "float", channel = 0 },
				{ name = "ch6", type = "float", channel = 0 },
				{ name = "pps", type = "float", channel = 0 }
			)
		}
	},
	pmu = {
		type = "socket",
		layer = "udp",

		format = "villas.binary",

		in = {
			address = "*:13001"
		},
		out = {
			vectorize = 100
			address = "172.16.11.130:13000"
			#address = "10.200.0.180:13000"
			signals = {
				count = 8
				type = "float"	
			}
		}
	}
}


paths = (
	{
		in = "ft4222"
		out = "pmu",
		hooks = ({
			type="print"
			enabled = false
			priority = 2
		},{
			type="pps_ts"
			avg_length = 0
			signal_index = 1
			threshold = 2.
			priority = 3
			enable = true
			expected_smp_rate = 10000
			#pll_gain = 1.
		#},{
	#		type = "dft"
	#		priority = 4
	#		enabled = true

		},{
			type="print"
			enabled = false
			priority = 5
		})
	}
)